create database Loja_Online;

use Loja_Online;

create table clientes
(
    id_cliente int primary key auto_increment,
    nome_cliente varchar(20) not null,
    morada_cliente varchar(50) not null,
    encomendas_pendentes int
    pagamento varchar(10)
    foreign key pagamento references pagamentos(metodo);
);

create table encomendas
(
    id_encomenda int primary key auto_increment, 
    produto_id int not null,
    foreign key produto_id references produtos(id_produto), 
    cliente varchar(20) not null, 
    foreign key cliente references clientes(nome_cliente),
    preco int not null
);

create table transportes
(
    matricula int(6) primary key not null,
    hora_saida time not null, 
    hora_chegada time not null
);

create table produtos
(
    id_produto int primary key auto_incremente,
    nome_produto varchar(50) not null, 
    preco int not null, 
    fabricante varchar(20) not null
);

create table pagamentos
(
    metodo varchar(15) primary key not null
);

insert into clientes
(nome_cliente, morada_cliente)
values
("Joao", "Torres Vedras"),
("Daniel", "Lisboa"),
("Gui", "Leiria"),
("Tomas", "Porto"),
("Miguel", "Algarve");

insert into encomendas
(produto_id, cliente, preco_total)
values
(5, "Joao", 60),
(1, "Gui", 25),
(3, "Joao", 35),
(2, "Daniel", 25),
(4, "Tomas", 5);

insert into transportes
(matricula, hora_chegada, hora_saida)
values
(987243, 10:20, 20:20,),
(548721, 9:00, 19:00,),
(095721, 9:50, 19:50,),
(324165, 11:00, 21:00,),
(826539, 12:25, 22:25,);

insert into produtos
(nome_produto, preco, fabricante)
values
("Mesa Digitalizadora", 15, "wacom"),
("Comando PS5", 60, "Sony"),
("Stockings", 5, "Ali-Express"),
("Pulseira", 2, "Ali-Express"),
("Aneis", 10, "Pull&Bear");

insert into pagamentos
(metodo)
values
("Visa"),
("Ctt"),
("NovoBanco"),
("Visa"),
("Ctt");

update produtos
set preco = 8
where nome_produto = "Aneis";

show table produtos;

describe transportes;

select * from produtos;